maxGSSize = 500,
qvalueCutoff = 0.2,
TERM2GENE = term2gene,
TERM2NAME = term2name)
View(term2name)
clusterProfiler::enricher(gene = CO2_data,
pvalueCutoff = 0.05,
universe = universe_genes,
minGSSize = 5,
maxGSSize = 500,
qvalueCutoff = 0.2,
TERM2GENE = term2gene,
TERM2NAME = term2name)
View(term2name)
View(term2gene)
CO2_data
devtools::load_all()
clusterProfiler::enricher(gene = CO2_data,
pvalueCutoff = 0.05,
pAdjustMethod = "BH",
universe = universe_genes,
minGSSize = 5,
maxGSSize = 500,
qvalueCutoff = 0.2,
TERM2GENE = term2gene,
TERM2NAME = term2name)
clusterProfiler::enricher(gene_ID = CO2_data,
pvalueCutoff = 0.05,
pAdjustMethod = "BH",
universe = universe_genes,
minGSSize = 5,
maxGSSize = 500,
qvalueCutoff = 0.2,
TERM2GENE = term2gene,
TERM2NAME = term2name)
clusterProfiler::enricher(gene = CO2_data,
pvalueCutoff = 0.05,
pAdjustMethod = "BH",
universe = universe_genes,
minGSSize = 5,
maxGSSize = 500,
qvalueCutoff = 0.2,
TERM2GENE = term2gene,
TERM2NAME = term2name)
my_enrich(gene_ID = CO2_data,
geneset = "Top200",
padjustMethod = "BH",
pvalueCut = 0.05,
qvalueCut = 0.2,
minSize = 2,
maxSize = 500)
a
a<-my_enrich(gene_ID = CO2_data,
geneset = "Top200",
padjustMethod = "BH",
pvalueCut = 0.05,
qvalueCut = 0.2,
minSize = 2,
maxSize = 500)
View(a)
results_df <- as.data.frame(a)
View(results_df)
View(results_df)
View(a)
View(results_df)
pkgload::dev_help('transform_result_to_dotplot')
?enrichpkg
pkgload::dev_help('transform_result_to_dotplot')
pkgload::dev_help('enrichpkg')
rlang::last_trace()
#01 请将文件路径替换为您的 差异表达基因文件 的实际位置
file_path <- "C://Users/admin/Desktop/课题_me/数据/富集分析/CO2_result/CO2_300.txt"
term2gene_path_top200 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/term2gene_Top200.csv"
term2name_path_top200 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/term2name_Top200.csv"
term2gene_path_top500 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/term2gene_Top500.csv"
term2name_path_top500 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/term2name_Top500.csv"
term2gene_path_top1000 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/term2gene_Top1000.csv"
term2name_path_top1000 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/term2name_Top1000.csv"
CO2_data <- read.table(file_path,header = FALSE,stringsAsFactors = FALSE)
term2gene_top200 <- read.csv(term2gene_path_top200,header = TRUE)
term2name_top200 <- read.csv(term2name_path_top200,header = TRUE )
term2gene_top500 <- read.csv(term2gene_path_top500,header = TRUE)
term2name_top500 <- read.csv(term2name_path_top500,header = TRUE )
term2gene_top1000 <- read.csv(term2gene_path_top1000,header = TRUE)
term2name_top1000 <- read.csv(term2name_path_top1000,header = TRUE )
#02 提取差异基因列
CO2_data <- CO2_data$V1
#将输入的差异基因统一转为大写
significant_genes <- toupper(significant_genes_raw)
#03 准备背景基因 (Universe)，它也必须是大写的
universe_genes_top200 <- unique(term2gene_top200$gene)
universe_genes_top500 <- unique(term2gene_top500$gene)
universe_genes_top1000 <- unique(term2gene_top1000$gene)
#写入term2gene和term2name数据
usethis::use_data(term2gene_top200,term2name_top200,term2gene_top500,term2name_top500,term2gene_top1000,term2name_top1000,internal = TRUE)
#写入背景基因数据
usethis::use_data(universe_genes_top200,universe_genes_top500,universe_genes_top1000,,internal = TRUE)
#写入背景基因数据
usethis::use_data(universe_genes_top200,universe_genes_top500,universe_genes_top1000,internal = TRUE)
#写入term2gene和term2name数据与背景基因数据
usethis::use_data(term2gene_top200,
term2name_top200,
term2gene_top500,
term2name_top500,
term2gene_top1000,
term2name_top1000,
universe_genes_top200,
universe_genes_top500,
universe_genes_top1000,
internal = TRUE)
devtools::load_all()
result<-my_enrich(gene_ID = CO2_data,
geneset = "Top200",
padjustMethod = "BH",
pvalueCut = 0.05,
qvalueCut = 0.2,
minSize = 5,
maxSize = 500)
results_df
result
ls
ls
?CO2_data
?term2gene_top200
result_plot <- transform_result_to_dotplot(result)
result
result_plot <- transform_result_to_dotplot(result)
devtools::load_all()
result_plot <- transform_result_to_dotplot(result)
View(result)
theme_bw()
pkgload::dev_help('my_dotplot')
?devtools::document
devtools::document()
devtools::document()
devtools::document()
usethis::use_mit_license("jiajun liu")
devtools::document()
devtools::check()
devtools::check()
devtools::document()
devtools::document()
devtools::check()
devtools::build()
devtools:build()
dectools:build()
dectools：:build()
dectools::build()
devtools::build()
devtools::check()
devtools::check()
devtools::build()
remove.packages("enrichpkg")
install.packages("D:/APP/R-4.4.2/mypkg/enrichpkg_1.0.1.tar.gz", repos = NULL, type = "source")
library(enrichpkg)
gene <- read.table("C:/Users/admin/Desktop/课题_me/数据/富集分析/N2/PNRgset.txt")
results<-my_enrich(gene_ID = gene$V1,
geneset = "Top1000",
padjustMethod = "BH",
pvalueCut = 0.05,
qvalueCut = 0.2,
minSize = 5,
maxSize = 1000)
View(results)
as.data.frame(results)
a<-as.data.frame(results)
View(a)
View(results)
result_frame<-as.data.frame(results)
write.csv(result_frame,file="C:/Users/admin/Desktop/课题_me/数据/富集分析/N2/N2_enrich_result_Top1000.csv")
result_shift <- transform_result_to_dotplot(result_data = results)
my_dotplot(result_object=result_shift,
showcategory = 20,
title_name = "Custom Gene Set Enrichment Results")
gene <- read.table("C:/Users/admin/Desktop/课题_me/数据/富集分析/N2/PNRgset.txt")
results<-my_enrich(gene_ID = gene$V1,
geneset = "Top500",
padjustMethod = "BH",
pvalueCut = 0.05,
qvalueCut = 0.2,
minSize = 5,
maxSize = 1000)
result_frame<-as.data.frame(results)
write.csv(result_frame,file="C:/Users/admin/Desktop/课题_me/数据/富集分析/N2/N2_enrich_result_Top500.csv")
#转化后，可以用于各种R包绘图
result_shift <- transform_result_to_dotplot(result_data = results)
my_dotplot(result_object=result_shift,
showcategory = 20,
title_name = "Custom Gene Set Enrichment Results")
gene <- read.table("C:/Users/admin/Desktop/课题_me/数据/富集分析/N2/PNRgset.txt")
results<-my_enrich(gene_ID = gene$V1,
geneset = "Top200",
padjustMethod = "BH",
pvalueCut = 0.05,
qvalueCut = 0.2,
minSize = 5,
maxSize = 1000)
result_frame<-as.data.frame(results)
write.csv(result_frame,file="C:/Users/admin/Desktop/课题_me/数据/富集分析/N2/N2_enrich_result_Top200.csv")
#转化后，可以用于各种R包绘图
result_shift <- transform_result_to_dotplot(result_data = results)
my_dotplot(result_object=result_shift,
showcategory = 20,
title_name = "Custom Gene Set Enrichment Results")
term2gene_path_top200 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2gene_Top200.csv"
term2name_path_top200 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2name_Top200.csv"
term2gene_path_top500 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2gene_Top500.csv"
term2name_path_top500 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2name_Top500.csv"
term2gene_path_top1000 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2gene_Top1000.csv"
term2name_path_top1000 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2name_Top1000.csv"
term2gene_top200 <- read.csv(term2gene_path_top200,header = TRUE)
term2name_top200 <- read.csv(term2name_path_top200,header = TRUE )
term2gene_top500 <- read.csv(term2gene_path_top500,header = TRUE)
term2name_top500 <- read.csv(term2name_path_top500,header = TRUE )
term2gene_top1000 <- read.csv(term2gene_path_top1000,header = TRUE)
term2name_top1000 <- read.csv(term2name_path_top1000,header = TRUE )
#03 准备背景基因 (Universe)，它也必须是大写的
universe_genes_top200 <- unique(term2gene_top200$gene)
universe_genes_top500 <- unique(term2gene_top500$gene)
universe_genes_top1000 <- unique(term2gene_top1000$gene)
term2gene_path_top200_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2gene_Top200_MG.csv"
term2name_path_top200_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2name_Top200_MG.csv"
term2gene_path_top500_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2gene_Top500_MG.csv"
term2name_path_top500_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2name_Top500_MG.csv"
term2gene_path_top1000_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2gene_Top1000_MG.csv"
term2name_path_top1000_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2name_Top1000_MG.csv"
term2gene_top200_MG <- read.csv(term2gene_path_top200_MG,header = TRUE)
term2name_top200_MG <- read.csv(term2name_path_top200_MG,header = TRUE )
term2gene_top500_MG <- read.csv(term2gene_path_top500_MG,header = TRUE)
term2name_top500_MG <- read.csv(term2name_path_top500_MG,header = TRUE )
term2gene_top1000_MG <- read.csv(term2gene_path_top1000_MG,header = TRUE)
term2name_top1000_MG <- read.csv(term2name_path_top1000_MG,header = TRUE )
#03 准备背景基因 (Universe)，它也必须是大写的
universe_genes_top200_MG <- unique(term2gene_top200_MG$gene)
universe_genes_top500_MG <- unique(term2gene_top500_MG$gene)
universe_genes_top1000_MG <- unique(term2gene_top1000_MG$gene)
term2gene_path_top200_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2gene_Top200_DG.csv"
term2name_path_top200_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2name_Top200_DG.csv"
term2gene_path_top500_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2gene_Top500_DG.csv"
term2name_path_top500_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2name_Top500_DG.csv"
term2gene_path_top1000_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2gene_Top1000_DG.csv"
term2name_path_top1000_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2name_Top1000_DG.csv"
term2gene_top200_DG <- read.csv(term2gene_path_top200_DG,header = TRUE)
term2name_top200_DG <- read.csv(term2name_path_top200_DG,header = TRUE )
term2gene_top500_DG <- read.csv(term2gene_path_top500_DG,header = TRUE)
term2name_top500_DG <- read.csv(term2name_path_top500_DG,header = TRUE )
term2gene_top1000_DG <- read.csv(term2gene_path_top1000_DG,header = TRUE)
term2name_top1000_DG <- read.csv(term2name_path_top1000_DG,header = TRUE )
#03 准备背景基因 (Universe)，它也必须是大写的
universe_genes_top200_DG <- unique(term2gene_top200_DG$gene)
universe_genes_top500_DG <- unique(term2gene_top500_DG$gene)
universe_genes_top1000_DG <- unique(term2gene_top1000_DG$gene)
term2gene_path_top200_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2gene_Top200_TG.csv"
term2name_path_top200_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2name_Top200_TG.csv"
term2gene_path_top500_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2gene_Top500_TG.csv"
term2name_path_top500_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2name_Top500_TG.csv"
term2gene_path_top1000_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2gene_Top1000_TG.csv"
term2name_path_top1000_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2name_Top1000_TG.csv"
term2gene_top200_TG <- read.csv(term2gene_path_top200_TG,header = TRUE)
term2name_top200_TG <- read.csv(term2name_path_top200_TG,header = TRUE )
term2gene_top500_TG <- read.csv(term2gene_path_top500_TG,header = TRUE)
term2name_top500_TG <- read.csv(term2name_path_top500_TG,header = TRUE )
term2gene_top1000_TG <- read.csv(term2gene_path_top1000_TG,header = TRUE)
term2name_top1000_TG <- read.csv(term2name_path_top1000_TG,header = TRUE )
#03 准备背景基因 (Universe)，它也必须是大写的
universe_genes_top200_TG <- unique(term2gene_top200_TG$gene)
universe_genes_top500_TG <- unique(term2gene_top500_TG$gene)
universe_genes_top1000_TG <- unique(term2gene_top1000_TG$gene)
#写入term2gene和term2name数据与背景基因数据
usethis::use_data(term2gene_top200,
term2name_top200,
term2gene_top500,
term2name_top500,
term2gene_top1000,
term2name_top1000,
universe_genes_top200,
universe_genes_top500,
universe_genes_top1000,
term2gene_top200_MG,
term2name_top200_MG,
term2gene_top500_MG,
term2name_top500_MG,
term2gene_top1000_MG,
term2name_top1000_MG,
universe_genes_top200_MG,
universe_genes_top500_MG,
universe_genes_top1000_MG,
term2gene_top200_TG,
term2name_top200_TG,
term2gene_top500_TG,
term2name_top500_TG,
term2gene_top1000_TG,
term2name_top1000_TG,
universe_genes_top200_TG,
universe_genes_top500_TG,
universe_genes_top1000_TG,
term2gene_top200_DG,
term2name_top200_DG,
term2gene_top500_DG,
term2name_top500_DG,
term2gene_top1000_DG,
term2name_top1000_DG,
universe_genes_top200_DG,
universe_genes_top500_DG,
universe_genes_top1000_DG,
internal = TRUE)
#写入term2gene和term2name数据与背景基因数据
usethis::use_data(term2gene_top200,
term2name_top200,
term2gene_top500,
term2name_top500,
term2gene_top1000,
term2name_top1000,
universe_genes_top200,
universe_genes_top500,
universe_genes_top1000,
term2gene_top200_MG,
term2name_top200_MG,
term2gene_top500_MG,
term2name_top500_MG,
term2gene_top1000_MG,
term2name_top1000_MG,
universe_genes_top200_MG,
universe_genes_top500_MG,
universe_genes_top1000_MG,
term2gene_top200_TG,
term2name_top200_TG,
term2gene_top500_TG,
term2name_top500_TG,
term2gene_top1000_TG,
term2name_top1000_TG,
universe_genes_top200_TG,
universe_genes_top500_TG,
universe_genes_top1000_TG,
term2gene_top200_DG,
term2name_top200_DG,
term2gene_top500_DG,
term2name_top500_DG,
term2gene_top1000_DG,
term2name_top1000_DG,
universe_genes_top200_DG,
universe_genes_top500_DG,
universe_genes_top1000_DG,
internal = TRUE,overwrite = TRUE)
devtools::document()
devtools::document()
devtools::load_all()
?my_enrich
my_enrich(CO2_data,ont="MG")
devtools::document()
devtools::load_all()
a<-my_enrich(CO2_data,ont="MG")
result_frame<-as.data.frame(a)
View(result_frame)
result_shift <- transform_result_to_dotplot(result_data = a)
my_dotplot(result_object=result_shift,
showcategory = 20,
title_name = "Custom Gene Set Enrichment Results")
devtools::check()
devtools::check()
devtools
devtools::build()
devtools::load_all()
my_enrich(CO2_data)
my_enrich(CO2_data)
my_enrich(CO2_data)
my_enrich(CO2_data)
download.file("https://github.com/lliu0610/-/releases/download/v1.0.2-data/sysdata.rda",
destfile = "test.rda", mode = "wb")
download.file("https://github.com/lliu0610/-/releases/download/v1.0.2-data/sysdata.rda",
destfile = "test.rda", mode = "wb")
devtools::document()
devtools::load_all()
my_enrich(CO2_data)
download.file("https://github.com/lliu0610/enrichpkg/releases/download/v1.0.2-data/sysdata.rda",
destfile = "test.rda", mode = "wb")
test_url <- "https://github.com/rstudio/posit-pyscript-example/releases/download/v0.1.0/example.json"
# 尝试下载
tryCatch({
download.file(test_url, destfile = "test.json", mode = "wb")
print("成功从一个已知的公共 URL 下载文件！")
}, error = function(e) {
print("从公共 URL 下载失败。问题出在 R 的网络配置上。")
print(e)
})
my_enrich(CO2_data)
term2gene_path_top200 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2gene_Top200.csv"
term2name_path_top200 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2name_Top200.csv"
term2gene_path_top500 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2gene_Top500.csv"
term2name_path_top500 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2name_Top500.csv"
term2gene_path_top1000 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2gene_Top1000.csv"
term2name_path_top1000 <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/ALL/term2name_Top1000.csv"
term2gene_top200 <- read.csv(term2gene_path_top200,header = TRUE)
term2name_top200 <- read.csv(term2name_path_top200,header = TRUE )
term2gene_top500 <- read.csv(term2gene_path_top500,header = TRUE)
term2name_top500 <- read.csv(term2name_path_top500,header = TRUE )
term2gene_top1000 <- read.csv(term2gene_path_top1000,header = TRUE)
term2name_top1000 <- read.csv(term2name_path_top1000,header = TRUE )
#03 准备背景基因 (Universe)，它也必须是大写的
universe_genes_top200 <- unique(term2gene_top200$gene)
universe_genes_top500 <- unique(term2gene_top500$gene)
universe_genes_top1000 <- unique(term2gene_top1000$gene)
term2gene_path_top200_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2gene_Top200_MG.csv"
term2name_path_top200_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2name_Top200_MG.csv"
term2gene_path_top500_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2gene_Top500_MG.csv"
term2name_path_top500_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2name_Top500_MG.csv"
term2gene_path_top1000_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2gene_Top1000_MG.csv"
term2name_path_top1000_MG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/MG/term2name_Top1000_MG.csv"
term2gene_top200_MG <- read.csv(term2gene_path_top200_MG,header = TRUE)
term2name_top200_MG <- read.csv(term2name_path_top200_MG,header = TRUE )
term2gene_top500_MG <- read.csv(term2gene_path_top500_MG,header = TRUE)
term2name_top500_MG <- read.csv(term2name_path_top500_MG,header = TRUE )
term2gene_top1000_MG <- read.csv(term2gene_path_top1000_MG,header = TRUE)
term2name_top1000_MG <- read.csv(term2name_path_top1000_MG,header = TRUE )
#03 准备背景基因 (Universe)，它也必须是大写的
universe_genes_top200_MG <- unique(term2gene_top200_MG$gene)
universe_genes_top500_MG <- unique(term2gene_top500_MG$gene)
universe_genes_top1000_MG <- unique(term2gene_top1000_MG$gene)
term2gene_path_top200_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2gene_Top200_DG.csv"
term2name_path_top200_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2name_Top200_DG.csv"
term2gene_path_top500_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2gene_Top500_DG.csv"
term2name_path_top500_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2name_Top500_DG.csv"
term2gene_path_top1000_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2gene_Top1000_DG.csv"
term2name_path_top1000_DG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/DG/term2name_Top1000_DG.csv"
term2gene_top200_DG <- read.csv(term2gene_path_top200_DG,header = TRUE)
term2name_top200_DG <- read.csv(term2name_path_top200_DG,header = TRUE )
term2gene_top500_DG <- read.csv(term2gene_path_top500_DG,header = TRUE)
term2name_top500_DG <- read.csv(term2name_path_top500_DG,header = TRUE )
term2gene_top1000_DG <- read.csv(term2gene_path_top1000_DG,header = TRUE)
term2name_top1000_DG <- read.csv(term2name_path_top1000_DG,header = TRUE )
#03 准备背景基因 (Universe)，它也必须是大写的
universe_genes_top200_DG <- unique(term2gene_top200_DG$gene)
universe_genes_top500_DG <- unique(term2gene_top500_DG$gene)
universe_genes_top1000_DG <- unique(term2gene_top1000_DG$gene)
term2gene_path_top200_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2gene_Top200_TG.csv"
term2name_path_top200_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2name_Top200_TG.csv"
term2gene_path_top500_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2gene_Top500_TG.csv"
term2name_path_top500_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2name_Top500_TG.csv"
term2gene_path_top1000_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2gene_Top1000_TG.csv"
term2name_path_top1000_TG <- "C://Users/admin/Desktop/课题_me/数据/富集分析/00_富集准备数据/第二版（由Top_gene_2_第二版生成）/TG/term2name_Top1000_TG.csv"
term2gene_top200_TG <- read.csv(term2gene_path_top200_TG,header = TRUE)
term2name_top200_TG <- read.csv(term2name_path_top200_TG,header = TRUE )
term2gene_top500_TG <- read.csv(term2gene_path_top500_TG,header = TRUE)
term2name_top500_TG <- read.csv(term2name_path_top500_TG,header = TRUE )
term2gene_top1000_TG <- read.csv(term2gene_path_top1000_TG,header = TRUE)
term2name_top1000_TG <- read.csv(term2name_path_top1000_TG,header = TRUE )
#03 准备背景基因 (Universe)，它也必须是大写的
universe_genes_top200_TG <- unique(term2gene_top200_TG$gene)
universe_genes_top500_TG <- unique(term2gene_top500_TG$gene)
universe_genes_top1000_TG <- unique(term2gene_top1000_TG$gene)
internal_data_list <- list(term2gene_top200=term2gene_top200,
term2name_top200=term2name_top200,
term2gene_top500=term2gene_top500,
term2name_top500= term2name_top500,
term2gene_top1000=term2gene_top1000,
term2name_top1000=term2name_top1000,
universe_genes_top200=universe_genes_top200,
universe_genes_top500=universe_genes_top500,
universe_genes_top1000=universe_genes_top1000,
term2gene_top200_MG=term2gene_top200_MG,
term2name_top200_MG=term2name_top200_MG,
term2gene_top500_MG=term2gene_top500_MG,
term2name_top500_MG=term2name_top500_MG,
term2gene_top1000_MG=term2gene_top1000_MG,
term2name_top1000_MG=term2name_top1000_MG,
universe_genes_top200_MG=universe_genes_top200_MG,
universe_genes_top500_MG=universe_genes_top500_MG,
universe_genes_top1000_MG=universe_genes_top1000_MG,
term2gene_top200_TG=term2gene_top200_TG,
term2name_top200_TG=term2name_top200_TG,
term2gene_top500_TG=term2gene_top500_TG,
term2name_top500_TG=term2name_top500_TG,
term2gene_top1000_TG=term2gene_top1000_TG,
term2name_top1000_TG=term2name_top1000_TG,
universe_genes_top200_TG=universe_genes_top200_TG,
universe_genes_top500_TG=universe_genes_top500_TG,
universe_genes_top1000_TG=universe_genes_top1000_TG,
term2gene_top200_DG=term2gene_top200_DG,
term2name_top200_DG=term2name_top200_DG,
term2gene_top500_DG=term2gene_top500_DG,
term2name_top500_DG=term2name_top500_DG,
term2gene_top1000_DG=term2gene_top1000_DG,
term2name_top1000_DG=term2name_top1000_DG,
universe_genes_top200_DG=universe_genes_top200_DG,
universe_genes_top500_DG=universe_genes_top500_DG,
universe_genes_top1000_DG=universe_genes_top1000_DG)
saveRDS(enrichpkg_data, file = "data-raw/enrichpkg_data.rds")
saveRDS(internal_data_list, file = "data-raw/enrichpkg_data.rds")
#给所需数据编写文档(即R文件夹下的data.R)后再使用
devtools::document()
#给所需数据编写文档(即R文件夹下的data.R)后再使用
devtools::load_all()
my_enrich(CO2_data)
my_enrich(CO2_data)
my_enrich(CO2_data)
my_enrich(CO2_data)
my_enrich(CO2_data,ont="MG")
#给所需数据编写文档(即R文件夹下的data.R)后再使用
devtools::check()
#给所需数据编写文档(即R文件夹下的data.R)后再使用
devtools::build()
devtools::check()
devtools::build()
devtools::document()
devtools::document()
devtools::load_all()
a<-enrichRice(CO2_data)
b<-transform_result_to_dotplot(a)
enrich_dotplot(b)
devtools::check()
devtools::build()
devtools::build()
